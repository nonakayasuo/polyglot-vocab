{
  "master": {
    "tasks": [
      {
        "id": 1,
        "title": "言語別ページのルーティング実装",
        "description": "各言語（English, Spanish, Korean, Chinese）を別ページに分離するためのルーティング構造を実装する",
        "details": "Next.js App Routerを使用して /[language]/ の動的ルーティングを実装。各言語ページで単語一覧、フラッシュカード、統計を表示できるようにする。ホームページは言語選択のダッシュボードとして再設計する。",
        "testStrategy": "",
        "status": "done",
        "dependencies": [],
        "priority": "high",
        "subtasks": []
      },
      {
        "id": 2,
        "title": "言語選択ダッシュボード（ホームページ）の作成",
        "description": "ホームページを言語選択のダッシュボードとして再設計し、各言語の統計情報を表示する",
        "details": "各言語カードに単語数、習得率、最近の学習状況を表示。言語カードをクリックすると該当の言語ページへ遷移。全体の統計サマリーも表示。",
        "testStrategy": "",
        "status": "done",
        "dependencies": [
          1
        ],
        "priority": "high",
        "subtasks": []
      },
      {
        "id": 3,
        "title": "言語別ストレージ関数の最適化",
        "description": "言語別にデータを効率的に取得・保存できるようにストレージ関数を拡張する",
        "details": "getVocabularyByLanguage(language)関数の追加。言語別の統計取得関数getStatsByLanguage(language)の追加。キャッシュの最適化。",
        "testStrategy": "",
        "status": "done",
        "dependencies": [],
        "priority": "medium",
        "subtasks": []
      },
      {
        "id": 4,
        "title": "言語ページ共通コンポーネントの作成",
        "description": "言語別ページで再利用可能な共通コンポーネントを作成する",
        "details": "LanguagePageLayoutコンポーネント、言語ヘッダー、言語固有の設定（TTS言語コードなど）を管理するコンテキストの作成。",
        "testStrategy": "",
        "status": "pending",
        "dependencies": [
          1
        ],
        "priority": "medium",
        "subtasks": []
      },
      {
        "id": 5,
        "title": "WordFormのopen prop問題の修正",
        "description": "WordFormコンポーネントのDialogがopen propを要求しているが、page.tsxでは条件付きレンダリングしている不整合を修正",
        "details": "page.tsxでのWordFormの呼び出し方法を修正し、open propを正しく渡すようにする。またはWordFormの実装を条件付きレンダリングに対応させる。",
        "testStrategy": "",
        "status": "pending",
        "dependencies": [],
        "priority": "medium",
        "subtasks": []
      },
      {
        "id": 6,
        "title": "新言語の追加機能",
        "description": "ユーザーが新しい言語を追加できる機能を実装する",
        "details": "設定画面で新しい言語（言語コード、表示名、国旗絵文字、TTS言語コード）を追加・編集・削除できるようにする。カスタム言語をLocalStorageに保存。",
        "testStrategy": "",
        "status": "pending",
        "dependencies": [],
        "priority": "low",
        "subtasks": []
      },
      {
        "id": 7,
        "title": "ダークモード/ライトモード切り替え機能",
        "description": "ダークモードとライトモードを切り替えられる機能を追加する",
        "details": "現在はダークモードのみ。next-themesを使用してテーマ切り替えを実装。システム設定に従うオプションも追加。",
        "testStrategy": "",
        "status": "pending",
        "dependencies": [],
        "priority": "low",
        "subtasks": []
      },
      {
        "id": 8,
        "title": "PWA対応（オフライン機能）",
        "description": "Progressive Web App対応を行い、オフラインでも利用可能にする",
        "details": "Service Workerの設定、マニフェストファイルの作成、オフラインキャッシュ戦略の実装。モバイルでのホーム画面追加対応。",
        "testStrategy": "",
        "status": "pending",
        "dependencies": [],
        "priority": "low",
        "subtasks": []
      },
      {
        "id": 9,
        "title": "Notion風UIデザインの実装",
        "description": "NotionのようなクリーンなライトテーマのテーブルUI、カラフルな品詞バッジ、進捗フィルタータブを実装",
        "details": "品詞ごとのカラーバッジ（名詞=水色、動詞=オレンジなど）、例文内の単語ハイライト、進捗フィルター（All, □□□, ■□□, ■■□, ■■■）、白背景のクリーンなデザイン",
        "testStrategy": "",
        "status": "done",
        "dependencies": [],
        "priority": "high",
        "subtasks": []
      },
      {
        "id": 10,
        "title": "SQLite + Prismaによるデータベース実装",
        "description": "LocalStorageからSQLite + Prismaへのデータ永続化層の移行",
        "details": "Prismaのセットアップ、スキーマ定義（VocabularyWord, Language）、マイグレーション実行、APIルートの作成、既存のストレージ関数をDB操作に置き換え",
        "testStrategy": "",
        "status": "done",
        "dependencies": [],
        "priority": "high",
        "subtasks": []
      },
      {
        "id": 11,
        "title": "本番環境用データベース設定（Turso/LibSQL）",
        "description": "Vercelサーバーレス環境で使用するための本番用データベースを設定する",
        "details": "SQLiteはVercelのサーバーレス環境では永続化できないため、Turso（LibSQL）などのエッジ対応DBサービスへ移行する。\n\n必要な作業：\n1. Tursoアカウント作成とデータベース作成\n2. @libsql/clientのインストール\n3. Prismaアダプターの設定変更\n4. 環境変数（TURSO_DATABASE_URL, TURSO_AUTH_TOKEN）の設定\n5. マイグレーションの実行\n6. 既存データの移行（必要に応じて）",
        "testStrategy": "本番環境でCRUD操作が正常に動作することを確認",
        "status": "pending",
        "dependencies": [
          10
        ],
        "priority": "high",
        "subtasks": []
      },
      {
        "id": 12,
        "title": "アプリのブランディングとメタデータ設定",
        "description": "「野中やすおの単語帳」としてブランディングし、適切なメタデータを設定する",
        "details": "アプリ名とメタデータの設定：\n1. layout.tsxのmetadata設定（title: 野中やすおの単語帳, description, keywords）\n2. ファビコンの作成と設定（favicon.ico: 16x16, 32x32）\n3. apple-touch-icon.png（180x180）\n4. Open Graph画像の作成（1200x630）\n5. Twitter Card設定\n6. PWAマニフェストの更新（アプリ名、アイコン各サイズ）\n\nデザイン：シンプルで学習をイメージさせるアイコン（本、言語、脳などのモチーフ）",
        "testStrategy": "OGPデバッガーでメタデータが正しく表示されることを確認",
        "status": "pending",
        "dependencies": [],
        "priority": "high",
        "subtasks": []
      },
      {
        "id": 13,
        "title": "Vercelデプロイとnonakayasuo.comドメイン設定",
        "description": "本番環境へのデプロイとカスタムドメインの設定を行う",
        "details": "Vercelへのデプロイ設定：\n1. Vercelアカウントとプロジェクト連携（GitHub連携推奨）\n2. 本番環境用の環境変数設定（DATABASE_URL, TURSO_AUTH_TOKENなど）\n3. ビルド設定の確認\n\nドメイン設定：\n1. nonakayasuo.comのDNSレコード設定\n   - CNAME: cname.vercel-dns.com（またはAレコード）\n2. Vercelダッシュボードでカスタムドメイン追加\n3. SSL証明書の自動発行確認\n4. www.nonakayasuo.comのリダイレクト設定（オプション）",
        "testStrategy": "nonakayasuo.comでアプリが正常に表示され、HTTPS接続できることを確認",
        "status": "pending",
        "dependencies": [
          11,
          12
        ],
        "priority": "high",
        "subtasks": []
      },
      {
        "id": 14,
        "title": "SEO対策の実装",
        "description": "検索エンジン最適化のための各種設定を行う",
        "details": "SEO設定：\n1. robots.txtの作成（/public/robots.txt）\n2. sitemap.xmlの生成（next-sitemapパッケージ推奨）\n3. 各ページの適切なメタタグ設定\n4. canonicalタグの設定\n5. 言語ページのhreflang設定（多言語対応）\n6. 構造化データ（JSON-LD）の追加（オプション）\n\n言語ページ用のメタ情報：\n- /english: English Vocabulary\n- /korean: 韓国語単語帳\n- /chinese: 中国語単語帳\n- /spanish: Spanish Vocabulary",
        "testStrategy": "Google Search Consoleでインデックス状況を確認、Lighthouse SEOスコア90以上",
        "status": "pending",
        "dependencies": [
          13
        ],
        "priority": "medium",
        "subtasks": []
      },
      {
        "id": 15,
        "title": "アクセス解析ツールの導入",
        "description": "ユーザー行動分析のためのアクセス解析ツールを導入する",
        "details": "アクセス解析の設定：\n1. Google Analytics 4（GA4）の設定\n   - GA4プロパティ作成\n   - 測定IDの取得\n   - next/script での読み込み実装\n2. Vercel Analyticsの有効化（オプション、Vercelダッシュボードから）\n3. イベントトラッキング設定：\n   - 単語追加イベント\n   - フラッシュカード学習開始/完了\n   - 言語ページ閲覧\n4. プライバシー配慮（Cookie同意バナーの検討）",
        "testStrategy": "GA4リアルタイムレポートでイベントが計測されることを確認",
        "status": "pending",
        "dependencies": [
          13
        ],
        "priority": "low",
        "subtasks": []
      },
      {
        "id": 16,
        "title": "VocabularyTableのドラッグ＆ドロップ パフォーマンス改善",
        "description": "VocabularyTableコンポーネントのドラッグ＆ドロップ（並び替え）機能のパフォーマンスを改善する",
        "details": "現在@dnd-kitを使用しているが、ドラッグ操作が遅い・反応が悪い問題がある。\n\n検討すべき改善策：\n1. 仮想化（react-virtual/tanstack-virtual）の導入で大量の行でもスムーズに動作させる\n2. ドラッグ中の再レンダリングを最小限に抑える\n3. DragOverlayの最適化\n4. センサー設定の調整\n5. 必要に応じて別のドラッグライブラリ（react-beautiful-dnd、pragmatic-drag-and-drop等）への移行を検討\n\n現在の実装：\n- @dnd-kit/core, @dnd-kit/sortable を使用\n- PointerSensor（distance: 3）とKeyboardSensorを使用\n- restrictToVerticalAxisモディファイアを使用",
        "testStrategy": "50件以上の単語でスムーズにドラッグ＆ドロップできることを確認",
        "status": "pending",
        "dependencies": [],
        "priority": "medium",
        "subtasks": []
      }
    ],
    "metadata": {
      "created": "2025-12-20T09:20:41.573Z",
      "description": "Default tasks context",
      "updated": "2025-12-20T09:56:00.859Z"
    }
  }
}